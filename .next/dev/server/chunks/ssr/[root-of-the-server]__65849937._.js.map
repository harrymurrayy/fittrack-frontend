{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/harry/Desktop/uni/COM682/frontend/fittrack-frontend/src/components/Navigation.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { useMsal } from \"@azure/msal-react\";\nimport { useState } from \"react\";\n\nexport default function Navigation() {\n  const pathname = usePathname();\n  const router = useRouter();\n  const { instance, accounts } = useMsal();\n  const isAuthenticated = accounts.length > 0;\n  const user = accounts[0];\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n\n  const handleLogout = async () => {\n    try {\n      const redirectUri =\n        process.env.NEXT_PUBLIC_REDIRECT_URI || \"http://localhost:3000\";\n      await instance.logoutRedirect({\n        postLogoutRedirectUri: `${redirectUri}/signin`,\n      });\n    } catch (error) {\n      console.error(\"Logout failed:\", error);\n    }\n  };\n\n  const navLinks = [\n    { href: \"/\", label: \"Home\", icon: HomeIcon },\n    { href: \"/workouts\", label: \"Workouts\", icon: DumbbellIcon },\n    { href: \"/photos\", label: \"Progress\", icon: CameraIcon },\n  ];\n\n  return (\n    <nav className=\"sticky top-0 z-50 glass border-b border-[var(--border-subtle)]\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between items-center h-16\">\n          {/* Logo */}\n          <Link href=\"/\" className=\"flex items-center gap-2 group\">\n            <div className=\"w-8 h-8 rounded-lg bg-[var(--accent)] flex items-center justify-center transition-transform group-hover:scale-105\">\n              <span className=\"text-black font-bold text-lg\">F</span>\n            </div>\n            <span className=\"text-xl font-bold tracking-tight\">\n              Fit<span className=\"accent-text\">Track</span>\n            </span>\n          </Link>\n\n          {/* Desktop Navigation Links */}\n          {isAuthenticated && (\n            <div className=\"hidden md:flex items-center gap-1\">\n              {navLinks.map((link) => {\n                const isActive = pathname === link.href;\n                return (\n                  <Link\n                    key={link.href}\n                    href={link.href}\n                    className={`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${\n                      isActive\n                        ? \"bg-[var(--accent-muted)] text-[var(--accent)]\"\n                        : \"text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]\"\n                    }`}\n                  >\n                    <link.icon className=\"w-4 h-4\" />\n                    {link.label}\n                  </Link>\n                );\n              })}\n            </div>\n          )}\n\n          {/* User Info & Actions */}\n          {isAuthenticated && (\n            <div className=\"hidden md:flex items-center gap-4\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-8 h-8 rounded-full bg-[var(--bg-tertiary)] flex items-center justify-center border border-[var(--border-default)]\">\n                  <span className=\"text-sm font-medium text-[var(--accent)]\">\n                    {user?.name?.charAt(0) || user?.username?.charAt(0) || \"U\"}\n                  </span>\n                </div>\n                <span className=\"text-sm text-[var(--text-secondary)]\">\n                  {user?.name || user?.username}\n                </span>\n              </div>\n              <button onClick={handleLogout} className=\"btn btn-ghost text-sm\">\n                <LogoutIcon className=\"w-4 h-4\" />\n                Sign Out\n              </button>\n            </div>\n          )}\n\n          {/* Mobile menu button */}\n          {isAuthenticated && (\n            <button\n              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n              className=\"md:hidden p-2 rounded-lg hover:bg-[var(--bg-tertiary)] transition-colors\"\n            >\n              <MenuIcon className=\"w-5 h-5 text-[var(--text-secondary)]\" />\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Mobile Navigation */}\n      {isAuthenticated && mobileMenuOpen && (\n        <div className=\"md:hidden border-t border-[var(--border-subtle)] animate-fade-in-down\">\n          <div className=\"px-4 py-3 space-y-1\">\n            {navLinks.map((link) => {\n              const isActive = pathname === link.href;\n              return (\n                <Link\n                  key={link.href}\n                  href={link.href}\n                  onClick={() => setMobileMenuOpen(false)}\n                  className={`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all ${\n                    isActive\n                      ? \"bg-[var(--accent-muted)] text-[var(--accent)]\"\n                      : \"text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]\"\n                  }`}\n                >\n                  <link.icon className=\"w-4 h-4\" />\n                  {link.label}\n                </Link>\n              );\n            })}\n            <div className=\"pt-3 mt-3 border-t border-[var(--border-subtle)]\">\n              <div className=\"flex items-center gap-3 px-4 py-2\">\n                <div className=\"w-8 h-8 rounded-full bg-[var(--bg-tertiary)] flex items-center justify-center border border-[var(--border-default)]\">\n                  <span className=\"text-sm font-medium text-[var(--accent)]\">\n                    {user?.name?.charAt(0) || user?.username?.charAt(0) || \"U\"}\n                  </span>\n                </div>\n                <span className=\"text-sm text-[var(--text-secondary)]\">\n                  {user?.name || user?.username}\n                </span>\n              </div>\n              <button\n                onClick={handleLogout}\n                className=\"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)] transition-colors\"\n              >\n                <LogoutIcon className=\"w-4 h-4\" />\n                Sign Out\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </nav>\n  );\n}\n\n// Icons\nfunction HomeIcon({ className }: { className?: string }) {\n  return (\n    <svg\n      className={className}\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      stroke=\"currentColor\"\n      strokeWidth={2}\n    >\n      <path\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\n      />\n    </svg>\n  );\n}\n\nfunction DumbbellIcon({ className }: { className?: string }) {\n  return (\n    <svg\n      className={className}\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      stroke=\"currentColor\"\n      strokeWidth={2}\n    >\n      <path\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        d=\"M4 7h2m12 0h2M6 7v10M18 7v10M8 7h8M8 17h8M9 7v10M15 7v10\"\n      />\n    </svg>\n  );\n}\n\nfunction CameraIcon({ className }: { className?: string }) {\n  return (\n    <svg\n      className={className}\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      stroke=\"currentColor\"\n      strokeWidth={2}\n    >\n      <path\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        d=\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\"\n      />\n      <path\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        d=\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\"\n      />\n    </svg>\n  );\n}\n\nfunction LogoutIcon({ className }: { className?: string }) {\n  return (\n    <svg\n      className={className}\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      stroke=\"currentColor\"\n      strokeWidth={2}\n    >\n      <path\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\n      />\n    </svg>\n  );\n}\n\nfunction MenuIcon({ className }: { className?: string }) {\n  return (\n    <svg\n      className={className}\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      stroke=\"currentColor\"\n      strokeWidth={2}\n    >\n      <path\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        d=\"M4 6h16M4 12h16M4 18h16\"\n      />\n    </svg>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,WAAW,IAAA,iNAAW;IAC5B,MAAM,SAAS,IAAA,+MAAS;IACxB,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,IAAA,+OAAO;IACtC,MAAM,kBAAkB,SAAS,MAAM,GAAG;IAC1C,MAAM,OAAO,QAAQ,CAAC,EAAE;IACxB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iRAAQ,EAAC;IAErD,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,cACJ,QAAQ,GAAG,CAAC,wBAAwB,IAAI;YAC1C,MAAM,SAAS,cAAc,CAAC;gBAC5B,uBAAuB,GAAG,YAAY,OAAO,CAAC;YAChD;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kBAAkB;QAClC;IACF;IAEA,MAAM,WAAW;QACf;YAAE,MAAM;YAAK,OAAO;YAAQ,MAAM;QAAS;QAC3C;YAAE,MAAM;YAAa,OAAO;YAAY,MAAM;QAAa;QAC3D;YAAE,MAAM;YAAW,OAAO;YAAY,MAAM;QAAW;KACxD;IAED,qBACE,8SAAC;QAAI,WAAU;;0BACb,8SAAC;gBAAI,WAAU;0BACb,cAAA,8SAAC;oBAAI,WAAU;;sCAEb,8SAAC,uOAAI;4BAAC,MAAK;4BAAI,WAAU;;8CACvB,8SAAC;oCAAI,WAAU;8CACb,cAAA,8SAAC;wCAAK,WAAU;kDAA+B;;;;;;;;;;;8CAEjD,8SAAC;oCAAK,WAAU;;wCAAmC;sDAC9C,8SAAC;4CAAK,WAAU;sDAAc;;;;;;;;;;;;;;;;;;wBAKpC,iCACC,8SAAC;4BAAI,WAAU;sCACZ,SAAS,GAAG,CAAC,CAAC;gCACb,MAAM,WAAW,aAAa,KAAK,IAAI;gCACvC,qBACE,8SAAC,uOAAI;oCAEH,MAAM,KAAK,IAAI;oCACf,WAAW,CAAC,gFAAgF,EAC1F,WACI,kDACA,+FACJ;;sDAEF,8SAAC,KAAK,IAAI;4CAAC,WAAU;;;;;;wCACpB,KAAK,KAAK;;mCATN,KAAK,IAAI;;;;;4BAYpB;;;;;;wBAKH,iCACC,8SAAC;4BAAI,WAAU;;8CACb,8SAAC;oCAAI,WAAU;;sDACb,8SAAC;4CAAI,WAAU;sDACb,cAAA,8SAAC;gDAAK,WAAU;0DACb,MAAM,MAAM,OAAO,MAAM,MAAM,UAAU,OAAO,MAAM;;;;;;;;;;;sDAG3D,8SAAC;4CAAK,WAAU;sDACb,MAAM,QAAQ,MAAM;;;;;;;;;;;;8CAGzB,8SAAC;oCAAO,SAAS;oCAAc,WAAU;;sDACvC,8SAAC;4CAAW,WAAU;;;;;;wCAAY;;;;;;;;;;;;;wBAOvC,iCACC,8SAAC;4BACC,SAAS,IAAM,kBAAkB,CAAC;4BAClC,WAAU;sCAEV,cAAA,8SAAC;gCAAS,WAAU;;;;;;;;;;;;;;;;;;;;;;YAO3B,mBAAmB,gCAClB,8SAAC;gBAAI,WAAU;0BACb,cAAA,8SAAC;oBAAI,WAAU;;wBACZ,SAAS,GAAG,CAAC,CAAC;4BACb,MAAM,WAAW,aAAa,KAAK,IAAI;4BACvC,qBACE,8SAAC,uOAAI;gCAEH,MAAM,KAAK,IAAI;gCACf,SAAS,IAAM,kBAAkB;gCACjC,WAAW,CAAC,gFAAgF,EAC1F,WACI,kDACA,+FACJ;;kDAEF,8SAAC,KAAK,IAAI;wCAAC,WAAU;;;;;;oCACpB,KAAK,KAAK;;+BAVN,KAAK,IAAI;;;;;wBAapB;sCACA,8SAAC;4BAAI,WAAU;;8CACb,8SAAC;oCAAI,WAAU;;sDACb,8SAAC;4CAAI,WAAU;sDACb,cAAA,8SAAC;gDAAK,WAAU;0DACb,MAAM,MAAM,OAAO,MAAM,MAAM,UAAU,OAAO,MAAM;;;;;;;;;;;sDAG3D,8SAAC;4CAAK,WAAU;sDACb,MAAM,QAAQ,MAAM;;;;;;;;;;;;8CAGzB,8SAAC;oCACC,SAAS;oCACT,WAAU;;sDAEV,8SAAC;4CAAW,WAAU;;;;;;wCAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASlD;AAEA,QAAQ;AACR,SAAS,SAAS,EAAE,SAAS,EAA0B;IACrD,qBACE,8SAAC;QACC,WAAW;QACX,MAAK;QACL,SAAQ;QACR,QAAO;QACP,aAAa;kBAEb,cAAA,8SAAC;YACC,eAAc;YACd,gBAAe;YACf,GAAE;;;;;;;;;;;AAIV;AAEA,SAAS,aAAa,EAAE,SAAS,EAA0B;IACzD,qBACE,8SAAC;QACC,WAAW;QACX,MAAK;QACL,SAAQ;QACR,QAAO;QACP,aAAa;kBAEb,cAAA,8SAAC;YACC,eAAc;YACd,gBAAe;YACf,GAAE;;;;;;;;;;;AAIV;AAEA,SAAS,WAAW,EAAE,SAAS,EAA0B;IACvD,qBACE,8SAAC;QACC,WAAW;QACX,MAAK;QACL,SAAQ;QACR,QAAO;QACP,aAAa;;0BAEb,8SAAC;gBACC,eAAc;gBACd,gBAAe;gBACf,GAAE;;;;;;0BAEJ,8SAAC;gBACC,eAAc;gBACd,gBAAe;gBACf,GAAE;;;;;;;;;;;;AAIV;AAEA,SAAS,WAAW,EAAE,SAAS,EAA0B;IACvD,qBACE,8SAAC;QACC,WAAW;QACX,MAAK;QACL,SAAQ;QACR,QAAO;QACP,aAAa;kBAEb,cAAA,8SAAC;YACC,eAAc;YACd,gBAAe;YACf,GAAE;;;;;;;;;;;AAIV;AAEA,SAAS,SAAS,EAAE,SAAS,EAA0B;IACrD,qBACE,8SAAC;QACC,WAAW;QACX,MAAK;QACL,SAAQ;QACR,QAAO;QACP,aAAa;kBAEb,cAAA,8SAAC;YACC,eAAc;YACd,gBAAe;YACf,GAAE;;;;;;;;;;;AAIV"}},
    {"offset": {"line": 466, "column": 0}, "map": {"version":3,"sources":["file:///Users/harry/Desktop/uni/COM682/frontend/fittrack-frontend/src/services/api.ts"],"sourcesContent":["import { PublicClientApplication } from \"@azure/msal-browser\";\nimport { msalConfig, loginRequest } from \"../lib/authConfig\";\n\nconst API_BASE =\n  process.env.NEXT_PUBLIC_API_URL ||\n  \"https://fittrack-api-hm-a4bde4egfffuczdz.italynorth-01.azurewebsites.net/api\";\n\n// Initialize MSAL to get tokens\nconst msalInstance = new PublicClientApplication(msalConfig);\n\n// Initialize the instance once\nlet isInitialized = false;\nasync function ensureInitialized() {\n  if (!isInitialized) {\n    await msalInstance.initialize();\n    isInitialized = true;\n  }\n}\n\n// Helper to get access token\nasync function getAccessToken(): Promise<string> {\n  await ensureInitialized();\n\n  const accounts = msalInstance.getAllAccounts();\n  if (accounts.length === 0) {\n    throw new Error(\"No authenticated user\");\n  }\n\n  try {\n    const response = await msalInstance.acquireTokenSilent({\n      ...loginRequest,\n      account: accounts[0],\n    });\n    return response.accessToken;\n  } catch (error) {\n    console.error(\"Token acquisition failed:\", error);\n    throw error;\n  }\n}\n\n// Helper to get user ID from token\nasync function getUserIdFromToken(): Promise<string> {\n  await ensureInitialized();\n\n  const accounts = msalInstance.getAllAccounts();\n  if (accounts.length === 0) {\n    throw new Error(\"No authenticated user\");\n  }\n  // Use the unique object ID from Azure AD as userId\n  return accounts[0].localAccountId;\n}\n\nexport const api = {\n  // Get all muscle groups\n  async getMuscleGroups() {\n    const token = await getAccessToken();\n    const response = await fetch(`${API_BASE}/musclegroups`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    if (!response.ok) throw new Error(\"Failed to fetch muscle groups\");\n    return response.json();\n  },\n\n  // Get exercises (optionally filtered by muscle group)\n  async getExercises(muscleGroupId?: number) {\n    const token = await getAccessToken();\n    const url = muscleGroupId\n      ? `${API_BASE}/exercises?muscleGroupId=${muscleGroupId}`\n      : `${API_BASE}/exercises`;\n    const response = await fetch(url, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    if (!response.ok) throw new Error(\"Failed to fetch exercises\");\n    return response.json();\n  },\n\n  // Get workouts for user\n  async getWorkouts() {\n    const token = await getAccessToken();\n    const userId = await getUserIdFromToken();\n    const response = await fetch(`${API_BASE}/workouts?userId=${userId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    if (!response.ok) throw new Error(\"Failed to fetch workouts\");\n    return response.json();\n  },\n\n  // Create new workout\n  async createWorkout(workout: any) {\n    const token = await getAccessToken();\n    const userId = await getUserIdFromToken();\n    const response = await fetch(`${API_BASE}/workouts`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify({ ...workout, userId }),\n    });\n    if (!response.ok) throw new Error(\"Failed to create workout\");\n    return response.json();\n  },\n\n  // Upload photo\n  async uploadPhoto(photoData: {\n    file: File;\n    weight?: number;\n    notes?: string;\n    takenAt: string;\n  }) {\n    const token = await getAccessToken();\n    const userId = await getUserIdFromToken();\n\n    const formData = new FormData();\n    formData.append(\"file\", photoData.file);\n    formData.append(\"userId\", userId);\n    formData.append(\"takenAt\", photoData.takenAt);\n\n    if (photoData.weight) {\n      formData.append(\"weight\", photoData.weight.toString());\n    }\n\n    if (photoData.notes) {\n      formData.append(\"notes\", photoData.notes);\n    }\n\n    const response = await fetch(`${API_BASE}/photos`, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n      body: formData,\n    });\n\n    if (!response.ok) throw new Error(\"Failed to upload photo\");\n    return response.json();\n  },\n\n  // Get user's photos\n  async getPhotos() {\n    const token = await getAccessToken();\n    const userId = await getUserIdFromToken();\n    const response = await fetch(`${API_BASE}/photos?userId=${userId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    if (!response.ok) throw new Error(\"Failed to fetch photos\");\n    return response.json();\n  },\n\n  // Delete photo\n  async deletePhoto(photoId: string) {\n    const token = await getAccessToken();\n    const response = await fetch(`${API_BASE}/photos/${photoId}`, {\n      method: \"DELETE\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    if (!response.ok) throw new Error(\"Failed to delete photo\");\n    return response.json();\n  },\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 620, "column": 0}, "map": {"version":3,"sources":["file:///Users/harry/Desktop/uni/COM682/frontend/fittrack-frontend/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useMsal } from \"@azure/msal-react\";\nimport Navigation from \"../components/Navigation\";\nimport { api } from \"../services/api\";\n\ninterface Workout {\n  id: string;\n  name: string;\n  takenAt: string;\n  exercises?: {\n    freeTextName: string;\n    sets?: { reps: number; weightKg: number }[];\n  }[];\n}\n\ninterface Stats {\n  thisWeek: number;\n  totalWorkouts: number;\n  totalPhotos: number;\n  streak: number;\n}\n\nexport default function Home() {\n  const router = useRouter();\n  const { accounts } = useMsal();\n  const isAuthenticated = accounts.length > 0;\n  const user = accounts[0];\n\n  const [workouts, setWorkouts] = useState<Workout[]>([]);\n  const [stats, setStats] = useState<Stats>({\n    thisWeek: 0,\n    totalWorkouts: 0,\n    totalPhotos: 0,\n    streak: 0,\n  });\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      router.push(\"/signin\");\n    }\n  }, [isAuthenticated, router]);\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      loadDashboardData();\n    }\n  }, [isAuthenticated]);\n\n  async function loadDashboardData() {\n    try {\n      setLoading(true);\n      const [workoutsData, photosData] = await Promise.all([\n        api.getWorkouts(),\n        api.getPhotos(),\n      ]);\n\n      setWorkouts(workoutsData);\n\n      // Calculate stats\n      const now = new Date();\n      const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\n\n      const thisWeekWorkouts = workoutsData.filter(\n        (w: Workout) => new Date(w.takenAt) >= weekAgo\n      ).length;\n\n      const streak = calculateStreak(workoutsData);\n\n      setStats({\n        thisWeek: thisWeekWorkouts,\n        totalWorkouts: workoutsData.length,\n        totalPhotos: photosData.length,\n        streak: streak,\n      });\n    } catch (error) {\n      console.error(\"Failed to load dashboard data:\", error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  function calculateStreak(workouts: Workout[]): number {\n    if (workouts.length === 0) return 0;\n\n    // Sort by date descending\n    const sorted = [...workouts].sort(\n      (a, b) => new Date(b.takenAt).getTime() - new Date(a.takenAt).getTime()\n    );\n\n    // Get unique workout dates (just the date part, no time)\n    const uniqueDates = new Set<string>();\n    sorted.forEach((w) => {\n      const date = new Date(w.takenAt).toDateString();\n      uniqueDates.add(date);\n    });\n\n    const dates = Array.from(uniqueDates).sort(\n      (a, b) => new Date(b).getTime() - new Date(a).getTime()\n    );\n\n    if (dates.length === 0) return 0;\n\n    // Check if the most recent workout was today or yesterday\n    const today = new Date().toDateString();\n    const yesterday = new Date(Date.now() - 24 * 60 * 60 * 1000).toDateString();\n    \n    if (dates[0] !== today && dates[0] !== yesterday) {\n      return 0; // Streak is broken\n    }\n\n    let streak = 1;\n    for (let i = 1; i < dates.length; i++) {\n      const current = new Date(dates[i - 1]);\n      const previous = new Date(dates[i]);\n      const diffDays = Math.round(\n        (current.getTime() - previous.getTime()) / (24 * 60 * 60 * 1000)\n      );\n\n      if (diffDays === 1) {\n        streak++;\n      } else {\n        break;\n      }\n    }\n\n    return streak;\n  }\n\n  if (!isAuthenticated) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"spinner\"></div>\n      </div>\n    );\n  }\n\n  const currentHour = new Date().getHours();\n  const greeting =\n    currentHour < 12 ? \"Good morning\" : currentHour < 18 ? \"Good afternoon\" : \"Good evening\";\n\n  // Get recent workouts (last 5)\n  const recentWorkouts = [...workouts]\n    .sort((a, b) => new Date(b.takenAt).getTime() - new Date(a.takenAt).getTime())\n    .slice(0, 5);\n\n  return (\n    <div className=\"min-h-screen\">\n      <Navigation />\n\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12\">\n        {/* Hero Section */}\n        <section className=\"mb-12 animate-fade-in-up\">\n          <p className=\"text-[var(--text-secondary)] text-lg mb-2\">\n            {greeting}, <span className=\"text-[var(--text-primary)]\">{user?.name?.split(\" \")[0] || \"there\"}</span>\n          </p>\n          <h1 className=\"text-4xl sm:text-5xl font-bold tracking-tight mb-4\">\n            Ready to <span className=\"gradient-text\">crush it</span> today?\n          </h1>\n          <p className=\"text-[var(--text-secondary)] text-lg max-w-2xl\">\n            Track your workouts, document your progress, and watch yourself transform.\n          </p>\n        </section>\n\n        {/* Quick Actions */}\n        <section className=\"grid sm:grid-cols-2 gap-6 mb-12\">\n          <QuickActionCard\n            title=\"Log Workout\"\n            description=\"Record your exercises, sets, and reps\"\n            icon={<DumbbellIcon />}\n            onClick={() => router.push(\"/workouts\")}\n            accentColor=\"var(--accent)\"\n            delay={100}\n          />\n          <QuickActionCard\n            title=\"Take Progress Photo\"\n            description=\"Document your physical transformation\"\n            icon={<CameraIcon />}\n            onClick={() => router.push(\"/photos\")}\n            accentColor=\"var(--accent)\"\n            delay={200}\n          />\n        </section>\n\n        {/* Stats Overview */}\n        <section className=\"mb-12\">\n          <h2 className=\"text-xl font-semibold mb-6 text-[var(--text-primary)]\">Your Journey</h2>\n          {loading ? (\n            <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4\">\n              {[...Array(4)].map((_, i) => (\n                <div key={i} className=\"card p-5\">\n                  <div className=\"skeleton h-4 w-20 mb-3\"></div>\n                  <div className=\"skeleton h-8 w-16\"></div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4 stagger-children\">\n              <StatCard\n                label=\"This Week\"\n                value={stats.thisWeek.toString()}\n                subtext=\"workouts\"\n                icon={<CalendarIcon />}\n              />\n              <StatCard\n                label=\"Total\"\n                value={stats.totalWorkouts.toString()}\n                subtext=\"workouts\"\n                icon={<FireIcon />}\n              />\n              <StatCard\n                label=\"Progress\"\n                value={stats.totalPhotos.toString()}\n                subtext=\"photos\"\n                icon={<TrendingIcon />}\n              />\n              <StatCard\n                label=\"Streak\"\n                value={stats.streak.toString()}\n                subtext={stats.streak === 1 ? \"day\" : \"days\"}\n                icon={<ZapIcon />}\n                highlight={stats.streak > 0}\n              />\n            </div>\n          )}\n        </section>\n\n        {/* Recent Activity */}\n        <section>\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-xl font-semibold text-[var(--text-primary)]\">Recent Activity</h2>\n            {workouts.length > 0 && (\n              <button\n                onClick={() => router.push(\"/workouts\")}\n                className=\"text-sm text-[var(--accent)] hover:underline\"\n              >\n                View all →\n              </button>\n            )}\n          </div>\n\n          {loading ? (\n            <div className=\"space-y-3\">\n              {[...Array(3)].map((_, i) => (\n                <div key={i} className=\"card p-4\">\n                  <div className=\"flex items-center gap-4\">\n                    <div className=\"skeleton w-12 h-12 rounded-xl\"></div>\n                    <div className=\"flex-1\">\n                      <div className=\"skeleton h-5 w-32 mb-2\"></div>\n                      <div className=\"skeleton h-4 w-24\"></div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : recentWorkouts.length === 0 ? (\n            <div className=\"card p-8 text-center\">\n              <div className=\"w-16 h-16 rounded-2xl bg-[var(--bg-tertiary)] flex items-center justify-center mx-auto mb-4\">\n                <DumbbellIcon className=\"w-8 h-8 text-[var(--text-muted)]\" />\n              </div>\n              <p className=\"text-[var(--text-secondary)] mb-4\">\n                No recent workouts yet. Start tracking your progress!\n              </p>\n              <button\n                onClick={() => router.push(\"/workouts\")}\n                className=\"btn btn-primary\"\n              >\n                Log Your First Workout\n              </button>\n            </div>\n          ) : (\n            <div className=\"space-y-3\">\n              {recentWorkouts.map((workout, index) => (\n                <RecentWorkoutCard \n                  key={workout.id} \n                  workout={workout} \n                  onClick={() => router.push(\"/workouts\")}\n                  style={{ animationDelay: `${index * 50}ms` }}\n                />\n              ))}\n            </div>\n          )}\n        </section>\n      </main>\n    </div>\n  );\n}\n\n// Recent Workout Card\nfunction RecentWorkoutCard({ \n  workout, \n  onClick,\n  style \n}: { \n  workout: Workout; \n  onClick: () => void;\n  style?: React.CSSProperties;\n}) {\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffDays = Math.floor(diffMs / (24 * 60 * 60 * 1000));\n\n    if (diffDays === 0) {\n      return \"Today\";\n    } else if (diffDays === 1) {\n      return \"Yesterday\";\n    } else if (diffDays < 7) {\n      return `${diffDays} days ago`;\n    } else {\n      return date.toLocaleDateString(\"en-GB\", {\n        day: \"numeric\",\n        month: \"short\",\n      });\n    }\n  };\n\n  const totalSets = workout.exercises?.reduce(\n    (acc, ex) => acc + (ex.sets?.length || 0),\n    0\n  ) || 0;\n\n  const exerciseCount = workout.exercises?.length || 0;\n\n  return (\n    <button\n      onClick={onClick}\n      className=\"card w-full p-4 text-left hover:bg-[var(--bg-card-hover)] transition-colors animate-fade-in-up\"\n      style={style}\n    >\n      <div className=\"flex items-center gap-4\">\n        <div className=\"w-12 h-12 rounded-xl bg-[var(--accent-muted)] flex items-center justify-center flex-shrink-0\">\n          <DumbbellIcon className=\"w-6 h-6 text-[var(--accent)]\" />\n        </div>\n        <div className=\"flex-1 min-w-0\">\n          <h3 className=\"font-semibold text-[var(--text-primary)] truncate\">\n            {workout.name || \"Workout Session\"}\n          </h3>\n          <p className=\"text-sm text-[var(--text-muted)]\">\n            {exerciseCount} {exerciseCount === 1 ? \"exercise\" : \"exercises\"} • {totalSets} sets\n          </p>\n        </div>\n        <div className=\"text-right flex-shrink-0\">\n          <p className=\"text-sm font-medium text-[var(--text-secondary)]\">\n            {formatDate(workout.takenAt)}\n          </p>\n        </div>\n      </div>\n    </button>\n  );\n}\n\n// Quick Action Card\nfunction QuickActionCard({\n  title,\n  description,\n  icon,\n  onClick,\n  accentColor,\n  delay,\n}: {\n  title: string;\n  description: string;\n  icon: React.ReactNode;\n  onClick: () => void;\n  accentColor: string;\n  delay: number;\n}) {\n  return (\n    <button\n      onClick={onClick}\n      className=\"card card-glow p-6 text-left group animate-fade-in-up\"\n      style={{ animationDelay: `${delay}ms` }}\n    >\n      <div\n        className=\"w-12 h-12 rounded-xl flex items-center justify-center mb-4 transition-transform group-hover:scale-110\"\n        style={{ backgroundColor: `color-mix(in srgb, ${accentColor} 15%, transparent)`, color: accentColor }}\n      >\n        {icon}\n      </div>\n      <h3 className=\"text-lg font-semibold text-[var(--text-primary)] mb-1 group-hover:text-[var(--accent)] transition-colors\">\n        {title}\n      </h3>\n      <p className=\"text-sm text-[var(--text-secondary)]\">{description}</p>\n      <div className=\"mt-4 flex items-center gap-2 text-sm font-medium text-[var(--accent)] opacity-0 group-hover:opacity-100 transition-opacity\">\n        Get started\n        <svg className=\"w-4 h-4 transition-transform group-hover:translate-x-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M17 8l4 4m0 0l-4 4m4-4H3\" />\n        </svg>\n      </div>\n    </button>\n  );\n}\n\n// Stat Card\nfunction StatCard({\n  label,\n  value,\n  subtext,\n  icon,\n  highlight = false,\n}: {\n  label: string;\n  value: string;\n  subtext: string;\n  icon: React.ReactNode;\n  highlight?: boolean;\n}) {\n  return (\n    <div className={`card p-5 ${highlight ? \"border-[var(--accent)]/30\" : \"\"}`}>\n      <div className=\"flex items-start justify-between mb-3\">\n        <span className=\"text-xs font-medium text-[var(--text-muted)] uppercase tracking-wider\">\n          {label}\n        </span>\n        <span className={highlight ? \"text-[var(--accent)]\" : \"text-[var(--text-muted)]\"}>\n          {icon}\n        </span>\n      </div>\n      <div className=\"flex items-baseline gap-1\">\n        <span className={`text-3xl font-bold ${highlight ? \"text-[var(--accent)]\" : \"text-[var(--text-primary)]\"}`}>\n          {value}\n        </span>\n        <span className=\"text-sm text-[var(--text-secondary)]\">{subtext}</span>\n      </div>\n    </div>\n  );\n}\n\n// Icons\nfunction DumbbellIcon({ className = \"w-6 h-6\" }: { className?: string }) {\n  return (\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4 7h2m12 0h2M6 7v10M18 7v10M8 7h8M8 17h8M9 7v10M15 7v10\" />\n    </svg>\n  );\n}\n\nfunction CameraIcon({ className = \"w-6 h-6\" }: { className?: string }) {\n  return (\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\" />\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\" />\n    </svg>\n  );\n}\n\nfunction CalendarIcon({ className = \"w-4 h-4\" }: { className?: string }) {\n  return (\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n    </svg>\n  );\n}\n\nfunction FireIcon({ className = \"w-4 h-4\" }: { className?: string }) {\n  return (\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z\" />\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z\" />\n    </svg>\n  );\n}\n\nfunction TrendingIcon({ className = \"w-4 h-4\" }: { className?: string }) {\n  return (\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\n    </svg>\n  );\n}\n\nfunction ZapIcon({ className = \"w-4 h-4\" }: { className?: string }) {\n  return (\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n    </svg>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}