{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/harry/Desktop/uni/COM682/frontend/fittrack-frontend/src/components/AuthProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport { MsalProvider } from \"@azure/msal-react\";\nimport { PublicClientApplication, EventType } from \"@azure/msal-browser\";\nimport { msalConfig } from \"@/lib/authConfig\";\nimport { ReactNode, useEffect, useState } from \"react\";\n\nconst msalInstance = new PublicClientApplication(msalConfig);\n\nexport default function AuthProvider({ children }: { children: ReactNode }) {\n  const [isInitialized, setIsInitialized] = useState(false);\n\n  useEffect(() => {\n    const initializeMsal = async () => {\n      try {\n        // Initialize MSAL instance\n        await msalInstance.initialize();\n\n        // Handle redirect promise after initialization\n        await msalInstance.handleRedirectPromise();\n\n        // Add event callback\n        msalInstance.addEventCallback((event) => {\n          if (event.eventType === EventType.LOGIN_SUCCESS) {\n            console.log(\"Login successful!\");\n          }\n        });\n\n        setIsInitialized(true);\n      } catch (error) {\n        console.error(\"MSAL initialization error:\", error);\n        setIsInitialized(true); // Still set to true to prevent infinite loading\n      }\n    };\n\n    initializeMsal();\n  }, []);\n\n  // Show loading while initializing\n  if (!isInitialized) {\n    return (\n      <div className=\"min-h-screen bg-white flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-black\"></div>\n      </div>\n    );\n  }\n\n  return <MsalProvider instance={msalInstance}>{children}</MsalProvider>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAAA;;;;;;AAEA;AALA;;;;;;AAOA,MAAM,eAAe,IAAI,gRAAuB,CAAC;AAElC,SAAS,aAAa,EAAE,QAAQ,EAA2B;IACxE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iRAAQ,EAAC;IAEnD,IAAA,kRAAS,EAAC;QACR,MAAM,iBAAiB;YACrB,IAAI;gBACF,2BAA2B;gBAC3B,MAAM,aAAa,UAAU;gBAE7B,+CAA+C;gBAC/C,MAAM,aAAa,qBAAqB;gBAExC,qBAAqB;gBACrB,aAAa,gBAAgB,CAAC,CAAC;oBAC7B,IAAI,MAAM,SAAS,KAAK,sPAAS,CAAC,aAAa,EAAE;wBAC/C,QAAQ,GAAG,CAAC;oBACd;gBACF;gBAEA,iBAAiB;YACnB,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,8BAA8B;gBAC5C,iBAAiB,OAAO,gDAAgD;YAC1E;QACF;QAEA;IACF,GAAG,EAAE;IAEL,kCAAkC;IAClC,IAAI,CAAC,eAAe;QAClB,qBACE,8SAAC;YAAI,WAAU;sBACb,cAAA,8SAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,qBAAO,8SAAC,gPAAY;QAAC,UAAU;kBAAe;;;;;;AAChD"}}]
}