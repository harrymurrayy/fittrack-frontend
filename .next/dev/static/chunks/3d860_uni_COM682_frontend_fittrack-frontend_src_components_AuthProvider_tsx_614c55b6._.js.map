{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/harry/Desktop/uni/COM682/frontend/fittrack-frontend/src/components/AuthProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport { MsalProvider } from \"@azure/msal-react\";\nimport { PublicClientApplication, EventType } from \"@azure/msal-browser\";\nimport { msalConfig } from \"@/lib/authConfig\";\nimport { ReactNode, useEffect, useState } from \"react\";\n\nconst msalInstance = new PublicClientApplication(msalConfig);\n\nexport default function AuthProvider({ children }: { children: ReactNode }) {\n  const [isInitialized, setIsInitialized] = useState(false);\n\n  useEffect(() => {\n    const initializeMsal = async () => {\n      try {\n        // Initialize MSAL instance\n        await msalInstance.initialize();\n\n        // Handle redirect promise after initialization\n        await msalInstance.handleRedirectPromise();\n\n        // Add event callback\n        msalInstance.addEventCallback((event) => {\n          if (event.eventType === EventType.LOGIN_SUCCESS) {\n            console.log(\"Login successful!\");\n          }\n        });\n\n        setIsInitialized(true);\n      } catch (error) {\n        console.error(\"MSAL initialization error:\", error);\n        setIsInitialized(true); // Still set to true to prevent infinite loading\n      }\n    };\n\n    initializeMsal();\n  }, []);\n\n  // Show loading while initializing\n  if (!isInitialized) {\n    return (\n      <div className=\"min-h-screen bg-white flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-black\"></div>\n      </div>\n    );\n  }\n\n  return <MsalProvider instance={msalInstance}>{children}</MsalProvider>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAAA;;;;;;AAEA;;;AALA;;;;;AAOA,MAAM,eAAe,IAAI,mRAAuB,CAAC;AAElC,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IACxE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yOAAQ,EAAC;IAEnD,IAAA,0OAAS;kCAAC;YACR,MAAM;yDAAiB;oBACrB,IAAI;wBACF,2BAA2B;wBAC3B,MAAM,aAAa,UAAU;wBAE7B,+CAA+C;wBAC/C,MAAM,aAAa,qBAAqB;wBAExC,qBAAqB;wBACrB,aAAa,gBAAgB;qEAAC,CAAC;gCAC7B,IAAI,MAAM,SAAS,KAAK,yPAAS,CAAC,aAAa,EAAE;oCAC/C,QAAQ,GAAG,CAAC;gCACd;4BACF;;wBAEA,iBAAiB;oBACnB,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,8BAA8B;wBAC5C,iBAAiB,OAAO,gDAAgD;oBAC1E;gBACF;;YAEA;QACF;iCAAG,EAAE;IAEL,kCAAkC;IAClC,IAAI,CAAC,eAAe;QAClB,qBACE,6PAAC;YAAI,WAAU;sBACb,cAAA,6PAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,qBAAO,6PAAC,mPAAY;QAAC,UAAU;kBAAe;;;;;;AAChD;GAvCwB;KAAA"}}]
}