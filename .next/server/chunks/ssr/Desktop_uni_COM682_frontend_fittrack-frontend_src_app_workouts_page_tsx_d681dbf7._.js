module.exports=[35286,a=>{"use strict";var b=a.i(1807),c=a.i(59376),d=a.i(99442),e=a.i(72698);function f({onSuccess:a}){let[d,f]=(0,c.useState)([]),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)([]);async function y(){try{let[a,b]=await Promise.all([e.api.getMuscleGroups(),e.api.getExercises()]);f(a),n(b),p(!1)}catch(a){console.error("Error loading data:",a),alert("Failed to load exercise data")}}function z(){x([...w,{muscleGroupId:"",exerciseId:"",sets:[{reps:10,weightKg:20}]}])}function A(a,b,c){let d=[...w];d[a][b]=c,x(d)}function B(a,b,c,d){let e=[...w];e[a].sets[b][c]=d,x(e)}async function C(b){if(b.preventDefault(),!s||0===w.length)return void alert("Please add date and at least one exercise");let c={takenAt:new Date(s).toISOString(),name:u||"Workout Session",notes:"",exercises:w.map(a=>{let b=m.find(b=>b.exerciseId===Number(a.exerciseId));return{exerciseId:Number(a.exerciseId),muscleGroupId:Number(a.muscleGroupId),freeTextName:b?.exerciseName||"",sets:a.sets.map((a,b)=>({set:b+1,reps:Number(a.reps),weightKg:Number(a.weightKg)})),notes:""}})};try{r(!0),await e.api.createWorkout(c),t(""),v(""),x([]),a()}catch(a){console.error("Error saving workout:",a),alert("Failed to save workout")}finally{r(!1)}}return(0,c.useEffect)(()=>{y()},[]),o?(0,b.jsx)("div",{className:"card p-8",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,b.jsx)("div",{className:"spinner spinner-sm"}),(0,b.jsx)("span",{className:"text-[var(--text-secondary)]",children:"Loading exercises..."})]})}):(0,b.jsxs)("form",{onSubmit:C,className:"card overflow-hidden",children:[(0,b.jsx)("div",{className:"p-6 border-b border-[var(--border-subtle)]",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-[var(--accent-muted)] flex items-center justify-center",children:(0,b.jsx)(g,{className:"w-5 h-5 text-[var(--accent)]"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-[var(--text-primary)]",children:"New Workout"}),(0,b.jsx)("p",{className:"text-sm text-[var(--text-muted)]",children:"Log your exercises and sets"})]})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"label",children:["Date & Time ",(0,b.jsx)("span",{className:"text-[var(--error)]",children:"*"})]}),(0,b.jsx)("input",{type:"datetime-local",value:s,onChange:a=>t(a.target.value),className:"input",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"Session Name"}),(0,b.jsx)("input",{type:"text",value:u,onChange:a=>v(a.target.value),placeholder:"e.g., Push Day, Leg Day",className:"input"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("label",{className:"label mb-0",children:["Exercises ",(0,b.jsx)("span",{className:"text-[var(--error)]",children:"*"})]}),(0,b.jsxs)("span",{className:"text-sm text-[var(--text-muted)]",children:[w.length," added"]})]}),0===w.length?(0,b.jsxs)("div",{className:"border-2 border-dashed border-[var(--border-default)] rounded-xl p-8 text-center",children:[(0,b.jsx)(i,{className:"w-10 h-10 text-[var(--text-muted)] mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-[var(--text-secondary)] mb-4",children:"No exercises added yet"}),(0,b.jsxs)("button",{type:"button",onClick:z,className:"btn btn-secondary",children:[(0,b.jsx)(h,{className:"w-4 h-4"}),"Add Exercise"]})]}):(0,b.jsxs)("div",{className:"space-y-4",children:[w.map((a,c)=>{let e;return(0,b.jsxs)("div",{className:"bg-[var(--bg-secondary)] border border-[var(--border-subtle)] rounded-xl p-5",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[var(--bg-tertiary)] flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-sm font-bold text-[var(--accent)]",children:c+1})}),(0,b.jsxs)("span",{className:"font-medium text-[var(--text-primary)]",children:["Exercise ",c+1]})]}),(0,b.jsx)("button",{type:"button",onClick:()=>{x(w.filter((a,b)=>b!==c))},className:"p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--error)] hover:bg-[var(--bg-tertiary)] transition-colors",children:(0,b.jsx)(j,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4 mb-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"Muscle Group"}),(0,b.jsxs)("select",{value:a.muscleGroupId,onChange:a=>{A(c,"muscleGroupId",a.target.value),A(c,"exerciseId","")},className:"select",required:!0,children:[(0,b.jsx)("option",{value:"",children:"Select muscle group"}),d.map(a=>(0,b.jsx)("option",{value:a.muscleGroupId,children:a.muscleGroupName},a.muscleGroupId))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"Exercise"}),(0,b.jsxs)("select",{value:a.exerciseId,onChange:a=>A(c,"exerciseId",a.target.value),className:"select",disabled:!a.muscleGroupId,required:!0,children:[(0,b.jsx)("option",{value:"",children:a.muscleGroupId?"Select exercise":"Select muscle group first"}),(e=a.muscleGroupId,m.filter(a=>a.muscleGroupId===Number(e))).map(a=>(0,b.jsx)("option",{value:a.exerciseId,children:a.exerciseName},a.exerciseId))]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-[var(--text-secondary)]",children:"Sets"}),(0,b.jsxs)("button",{type:"button",onClick:()=>{let a;(a=[...w])[c].sets.push({reps:10,weightKg:20}),x(a)},className:"text-sm font-medium text-[var(--accent)] hover:underline flex items-center gap-1",children:[(0,b.jsx)(h,{className:"w-3 h-3"}),"Add Set"]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"grid grid-cols-[50px_1fr_1fr_40px] gap-2 text-xs font-medium text-[var(--text-muted)] px-1",children:[(0,b.jsx)("span",{children:"SET"}),(0,b.jsx)("span",{children:"REPS"}),(0,b.jsx)("span",{children:"WEIGHT (KG)"}),(0,b.jsx)("span",{})]}),a.sets.map((d,e)=>(0,b.jsxs)("div",{className:"grid grid-cols-[50px_1fr_1fr_40px] gap-2 items-center",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-md bg-[var(--bg-tertiary)] flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-sm font-medium text-[var(--text-muted)]",children:e+1})}),(0,b.jsx)("input",{type:"number",value:d.reps,onChange:a=>B(c,e,"reps",Number(a.target.value)),placeholder:"Reps",className:"input py-2",min:"1",required:!0}),(0,b.jsx)("input",{type:"number",value:d.weightKg,onChange:a=>B(c,e,"weightKg",Number(a.target.value)),placeholder:"Weight",className:"input py-2",min:"0",step:"0.5",required:!0}),(0,b.jsx)("button",{type:"button",onClick:()=>{let a;(a=[...w])[c].sets=a[c].sets.filter((a,b)=>b!==e),x(a)},className:"w-8 h-8 rounded-md flex items-center justify-center text-[var(--text-muted)] hover:text-[var(--error)] hover:bg-[var(--bg-tertiary)] transition-colors",disabled:1===a.sets.length,children:(0,b.jsx)(k,{className:"w-4 h-4"})})]},e))]})]})]},c)}),(0,b.jsxs)("button",{type:"button",onClick:z,className:"w-full p-4 border-2 border-dashed border-[var(--border-default)] rounded-xl text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:border-[var(--border-hover)] transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(h,{className:"w-4 h-4"}),"Add Another Exercise"]})]})]})]}),(0,b.jsx)("div",{className:"p-6 border-t border-[var(--border-subtle)] bg-[var(--bg-secondary)]",children:(0,b.jsx)("button",{type:"submit",disabled:q||0===w.length,className:"btn btn-primary w-full sm:w-auto",children:q?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"spinner spinner-sm"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l,{className:"w-4 h-4"}),"Save Workout"]})})})]})}function g({className:a}){return(0,b.jsx)("svg",{className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}function h({className:a}){return(0,b.jsx)("svg",{className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})}function i({className:a}){return(0,b.jsx)("svg",{className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7h2m12 0h2M6 7v10M18 7v10M8 7h8M8 17h8M9 7v10M15 7v10"})})}function j({className:a}){return(0,b.jsx)("svg",{className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}function k({className:a}){return(0,b.jsx)("svg",{className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}function l({className:a}){return(0,b.jsx)("svg",{className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}var m=a.i(96465);function n(){let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(!0);async function l(){try{k(!0);let a=await e.api.getWorkouts();g(a)}catch(a){console.error("Error loading workouts:",a)}finally{k(!1)}}return(0,c.useEffect)(()=>{l()},[]),(0,b.jsx)(m.default,{children:(0,b.jsxs)("div",{className:"min-h-screen",children:[(0,b.jsx)(d.default,{}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8 animate-fade-in-up",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold tracking-tight text-[var(--text-primary)]",children:"Workouts"}),(0,b.jsx)("p",{className:"text-[var(--text-secondary)] mt-1",children:"Track and log your gym sessions"})]}),(0,b.jsx)("button",{onClick:()=>i(!h),className:`btn ${h?"btn-secondary":"btn-primary"}`,children:h?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q,{className:"w-4 h-4"}),"Cancel"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p,{className:"w-4 h-4"}),"New Workout"]})})]}),h&&(0,b.jsx)("div",{className:"mb-10 animate-fade-in-up",children:(0,b.jsx)(f,{onSuccess:()=>{i(!1),l()}})}),(0,b.jsxs)("section",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-[var(--accent-muted)] flex items-center justify-center",children:(0,b.jsx)(s,{className:"w-5 h-5 text-[var(--accent)]"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-[var(--text-primary)]",children:"Workout History"}),(0,b.jsxs)("p",{className:"text-sm text-[var(--text-muted)]",children:[a.length," ",1===a.length?"session":"sessions"," logged"]})]})]}),j?(0,b.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((a,c)=>(0,b.jsxs)("div",{className:"card p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsx)("div",{className:"skeleton h-6 w-40"}),(0,b.jsx)("div",{className:"skeleton h-5 w-24"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"skeleton h-4 w-32"}),(0,b.jsx)("div",{className:"skeleton h-4 w-28"})]})]},c))}):0===a.length?(0,b.jsxs)("div",{className:"card p-12 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-[var(--bg-tertiary)] flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(r,{className:"w-8 h-8 text-[var(--text-muted)]"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-[var(--text-primary)] mb-2",children:"No workouts yet"}),(0,b.jsx)("p",{className:"text-[var(--text-secondary)] mb-6 max-w-sm mx-auto",children:"Start tracking your gym sessions to see your progress over time"}),(0,b.jsxs)("button",{onClick:()=>i(!0),className:"btn btn-primary",children:[(0,b.jsx)(p,{className:"w-4 h-4"}),"Create First Workout"]})]}):(0,b.jsx)("div",{className:"space-y-4 stagger-children",children:a.map(a=>(0,b.jsx)(o,{workout:a},a.id))})]})]})]})})}function o({workout:a}){let[d,e]=(0,c.useState)(!1),f=a.exercises?.reduce((a,b)=>a+(b.sets?.length||0),0)||0;return(0,b.jsxs)("div",{className:"card overflow-hidden",children:[(0,b.jsx)("button",{onClick:()=>e(!d),className:"w-full p-6 text-left hover:bg-[var(--bg-card-hover)] transition-colors",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-xl bg-[var(--accent-muted)] flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(r,{className:"w-6 h-6 text-[var(--accent)]"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-[var(--text-primary)]",children:a.name||"Workout Session"}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-sm text-[var(--text-secondary)]",children:[(0,b.jsx)("span",{children:new Date(a.takenAt).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}),(0,b.jsx)("span",{className:"text-[var(--text-muted)]",children:"•"}),(0,b.jsx)("span",{children:new Date(a.takenAt).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 sm:gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-lg font-bold text-[var(--text-primary)]",children:a.exercises?.length||0}),(0,b.jsx)("p",{className:"text-xs text-[var(--text-muted)]",children:"exercises"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-lg font-bold text-[var(--text-primary)]",children:f}),(0,b.jsx)("p",{className:"text-xs text-[var(--text-muted)]",children:"sets"})]})]}),(0,b.jsx)(t,{className:`w-5 h-5 text-[var(--text-muted)] transition-transform ${d?"rotate-180":""}`})]})]})}),d&&a.exercises&&a.exercises.length>0&&(0,b.jsx)("div",{className:"border-t border-[var(--border-subtle)] p-6 bg-[var(--bg-secondary)] animate-fade-in",children:(0,b.jsx)("div",{className:"space-y-4",children:a.exercises.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[var(--bg-tertiary)] flex items-center justify-center flex-shrink-0",children:(0,b.jsx)("span",{className:"text-sm font-medium text-[var(--text-muted)]",children:c+1})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium text-[var(--text-primary)]",children:a.freeTextName||"Unknown Exercise"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:a.sets?.map((a,c)=>(0,b.jsxs)("span",{className:"badge",children:[a.reps," × ",a.weightKg,"kg"]},c))})]})]},c))})})]})}function p({className:a}){return(0,b.jsx)("svg",{className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})}function q({className:a}){return(0,b.jsx)("svg",{className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}function r({className:a}){return(0,b.jsx)("svg",{className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7h2m12 0h2M6 7v10M18 7v10M8 7h8M8 17h8M9 7v10M15 7v10"})})}function s({className:a}){return(0,b.jsx)("svg",{className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}function t({className:a}){return(0,b.jsx)("svg",{className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})}a.s(["default",()=>n],35286)}];

//# sourceMappingURL=Desktop_uni_COM682_frontend_fittrack-frontend_src_app_workouts_page_tsx_d681dbf7._.js.map