module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},84494,(a,b,c)=>{"use strict";b.exports=a.r(83693).vendored.contexts.AppRouterContext},8639,(a,b,c)=>{"use strict";b.exports=a.r(83693).vendored.contexts.HooksClientContext},83165,(a,b,c)=>{"use strict";b.exports=a.r(83693).vendored.contexts.ServerInsertedHtml},15960,(a,b,c)=>{"use strict";b.exports=a.r(83693).vendored["react-ssr"].ReactServerDOMTurbopackClient},13116,a=>{"use strict";var b=a.i(1807),c=a.i(59376),d=a.i(34336);a.i(81560);var e=a.i(25255),f=a.i(99442),g=a.i(72698);function h(){let a=(0,d.useRouter)(),{accounts:h}=(0,e.useMsal)(),r=h.length>0,s=h[0],[t,u]=(0,c.useState)([]),[v,w]=(0,c.useState)({thisWeek:0,totalWorkouts:0,totalPhotos:0,streak:0}),[x,y]=(0,c.useState)(!0);async function z(){try{y(!0);let[a,b]=await Promise.all([g.api.getWorkouts(),g.api.getPhotos()]);u(a);let c=new Date,d=new Date(c.getTime()-6048e5),e=a.filter(a=>new Date(a.takenAt)>=d).length,f=function(a){if(0===a.length)return 0;let b=[...a].sort((a,b)=>new Date(b.takenAt).getTime()-new Date(a.takenAt).getTime()),c=new Set;b.forEach(a=>{let b=new Date(a.takenAt).toDateString();c.add(b)});let d=Array.from(c).sort((a,b)=>new Date(b).getTime()-new Date(a).getTime());if(0===d.length)return 0;let e=new Date().toDateString(),f=new Date(Date.now()-864e5).toDateString();if(d[0]!==e&&d[0]!==f)return 0;let g=1;for(let a=1;a<d.length;a++){let b=new Date(d[a-1]),c=new Date(d[a]);if(1===Math.round((b.getTime()-c.getTime())/864e5))g++;else break}return g}(a);w({thisWeek:e,totalWorkouts:a.length,totalPhotos:b.length,streak:f})}catch(a){console.error("Failed to load dashboard data:",a)}finally{y(!1)}}if((0,c.useEffect)(()=>{r||a.push("/signin")},[r,a]),(0,c.useEffect)(()=>{r&&z()},[r]),!r)return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("div",{className:"spinner"})});let A=new Date().getHours(),B=[...t].sort((a,b)=>new Date(b.takenAt).getTime()-new Date(a.takenAt).getTime()).slice(0,5);return(0,b.jsxs)("div",{className:"min-h-screen",children:[(0,b.jsx)(f.default,{}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[(0,b.jsxs)("section",{className:"mb-12 animate-fade-in-up",children:[(0,b.jsxs)("p",{className:"text-[var(--text-secondary)] text-lg mb-2",children:[A<12?"Good morning":A<18?"Good afternoon":"Good evening",", ",(0,b.jsx)("span",{className:"text-[var(--text-primary)]",children:s?.name?.split(" ")[0]||"there"})]}),(0,b.jsxs)("h1",{className:"text-4xl sm:text-5xl font-bold tracking-tight mb-4",children:["Ready to ",(0,b.jsx)("span",{className:"gradient-text",children:"crush it"})," today?"]}),(0,b.jsx)("p",{className:"text-[var(--text-secondary)] text-lg max-w-2xl",children:"Track your workouts, document your progress, and watch yourself transform."})]}),(0,b.jsxs)("section",{className:"grid sm:grid-cols-2 gap-6 mb-12",children:[(0,b.jsx)(j,{title:"Log Workout",description:"Record your exercises, sets, and reps",icon:(0,b.jsx)(l,{}),onClick:()=>a.push("/workouts"),accentColor:"var(--accent)",delay:100}),(0,b.jsx)(j,{title:"Take Progress Photo",description:"Document your physical transformation",icon:(0,b.jsx)(m,{}),onClick:()=>a.push("/photos"),accentColor:"var(--accent)",delay:200})]}),(0,b.jsxs)("section",{className:"mb-12",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-6 text-[var(--text-primary)]",children:"Your Journey"}),x?(0,b.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsxs)("div",{className:"card p-5",children:[(0,b.jsx)("div",{className:"skeleton h-4 w-20 mb-3"}),(0,b.jsx)("div",{className:"skeleton h-8 w-16"})]},c))}):(0,b.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 stagger-children",children:[(0,b.jsx)(k,{label:"This Week",value:v.thisWeek.toString(),subtext:"workouts",icon:(0,b.jsx)(n,{})}),(0,b.jsx)(k,{label:"Total",value:v.totalWorkouts.toString(),subtext:"workouts",icon:(0,b.jsx)(o,{})}),(0,b.jsx)(k,{label:"Progress",value:v.totalPhotos.toString(),subtext:"photos",icon:(0,b.jsx)(p,{})}),(0,b.jsx)(k,{label:"Streak",value:v.streak.toString(),subtext:1===v.streak?"day":"days",icon:(0,b.jsx)(q,{}),highlight:v.streak>0})]})]}),(0,b.jsxs)("section",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-[var(--text-primary)]",children:"Recent Activity"}),t.length>0&&(0,b.jsx)("button",{onClick:()=>a.push("/workouts"),className:"text-sm text-[var(--accent)] hover:underline",children:"View all →"})]}),x?(0,b.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"card p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"skeleton w-12 h-12 rounded-xl"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"skeleton h-5 w-32 mb-2"}),(0,b.jsx)("div",{className:"skeleton h-4 w-24"})]})]})},c))}):0===B.length?(0,b.jsxs)("div",{className:"card p-8 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-[var(--bg-tertiary)] flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(l,{className:"w-8 h-8 text-[var(--text-muted)]"})}),(0,b.jsx)("p",{className:"text-[var(--text-secondary)] mb-4",children:"No recent workouts yet. Start tracking your progress!"}),(0,b.jsx)("button",{onClick:()=>a.push("/workouts"),className:"btn btn-primary",children:"Log Your First Workout"})]}):(0,b.jsx)("div",{className:"space-y-3",children:B.map((c,d)=>(0,b.jsx)(i,{workout:c,onClick:()=>a.push("/workouts"),style:{animationDelay:`${50*d}ms`}},c.id))})]})]})]})}function i({workout:a,onClick:c,style:d}){let e,f,g=a.exercises?.reduce((a,b)=>a+(b.sets?.length||0),0)||0,h=a.exercises?.length||0;return(0,b.jsx)("button",{onClick:c,className:"card w-full p-4 text-left hover:bg-[var(--bg-card-hover)] transition-colors animate-fade-in-up",style:d,children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-xl bg-[var(--accent-muted)] flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(l,{className:"w-6 h-6 text-[var(--accent)]"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"font-semibold text-[var(--text-primary)] truncate",children:a.name||"Workout Session"}),(0,b.jsxs)("p",{className:"text-sm text-[var(--text-muted)]",children:[h," ",1===h?"exercise":"exercises"," • ",g," sets"]})]}),(0,b.jsx)("div",{className:"text-right flex-shrink-0",children:(0,b.jsx)("p",{className:"text-sm font-medium text-[var(--text-secondary)]",children:(e=new Date(a.takenAt),0===(f=Math.floor((new Date().getTime()-e.getTime())/864e5))?"Today":1===f?"Yesterday":f<7?`${f} days ago`:e.toLocaleDateString("en-GB",{day:"numeric",month:"short"}))})})]})})}function j({title:a,description:c,icon:d,onClick:e,accentColor:f,delay:g}){return(0,b.jsxs)("button",{onClick:e,className:"card card-glow p-6 text-left group animate-fade-in-up",style:{animationDelay:`${g}ms`},children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-4 transition-transform group-hover:scale-110",style:{backgroundColor:`color-mix(in srgb, ${f} 15%, transparent)`,color:f},children:d}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-[var(--text-primary)] mb-1 group-hover:text-[var(--accent)] transition-colors",children:a}),(0,b.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:c}),(0,b.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-sm font-medium text-[var(--accent)] opacity-0 group-hover:opacity-100 transition-opacity",children:["Get started",(0,b.jsx)("svg",{className:"w-4 h-4 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})}function k({label:a,value:c,subtext:d,icon:e,highlight:f=!1}){return(0,b.jsxs)("div",{className:`card p-5 ${f?"border-[var(--accent)]/30":""}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsx)("span",{className:"text-xs font-medium text-[var(--text-muted)] uppercase tracking-wider",children:a}),(0,b.jsx)("span",{className:f?"text-[var(--accent)]":"text-[var(--text-muted)]",children:e})]}),(0,b.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,b.jsx)("span",{className:`text-3xl font-bold ${f?"text-[var(--accent)]":"text-[var(--text-primary)]"}`,children:c}),(0,b.jsx)("span",{className:"text-sm text-[var(--text-secondary)]",children:d})]})]})}function l({className:a="w-6 h-6"}){return(0,b.jsx)("svg",{className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7h2m12 0h2M6 7v10M18 7v10M8 7h8M8 17h8M9 7v10M15 7v10"})})}function m({className:a="w-6 h-6"}){return(0,b.jsxs)("svg",{className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}function n({className:a="w-4 h-4"}){return(0,b.jsx)("svg",{className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}function o({className:a="w-4 h-4"}){return(0,b.jsxs)("svg",{className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z"})]})}function p({className:a="w-4 h-4"}){return(0,b.jsx)("svg",{className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}function q({className:a="w-4 h-4"}){return(0,b.jsx)("svg",{className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__6ab95155._.js.map